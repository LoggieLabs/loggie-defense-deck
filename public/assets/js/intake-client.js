var Ve=Object.create;var F0=Object.defineProperty;var Fe=Object.getOwnPropertyDescriptor;var Ke=Object.getOwnPropertyNames;var ze=Object.getPrototypeOf,Ge=Object.prototype.hasOwnProperty;var Xe=(i,s,a)=>s in i?F0(i,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):i[s]=a;var K0=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(s,a)=>(typeof require<"u"?require:s)[a]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')});var We=(i,s)=>()=>(s||i((s={exports:{}}).exports,s),s.exports);var qe=(i,s,a,y)=>{if(s&&typeof s=="object"||typeof s=="function")for(let l of Ke(s))!Ge.call(i,l)&&l!==a&&F0(i,l,{get:()=>s[l],enumerable:!(y=Fe(s,l))||y.enumerable});return i};var $e=(i,s,a)=>(a=i!=null?Ve(ze(i)):{},qe(s||!i||!i.__esModule?F0(a,"default",{value:i,enumerable:!0}):a,i));var k=(i,s,a)=>Xe(i,typeof s!="symbol"?s+"":s,a);var me=We((tr,E0)=>{(function(i){"use strict";var s=function(e){var r,f=new Float64Array(16);if(e)for(r=0;r<e.length;r++)f[r]=e[r];return f},a=function(){throw new Error("no PRNG")},y=new Uint8Array(16),l=new Uint8Array(32);l[0]=9;var A=s(),w=s([1]),B=s([56129,1]),T=s([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),V=s([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),W=s([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),D=s([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),st=s([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function it(e,r,f,t){e[r]=f>>24&255,e[r+1]=f>>16&255,e[r+2]=f>>8&255,e[r+3]=f&255,e[r+4]=t>>24&255,e[r+5]=t>>16&255,e[r+6]=t>>8&255,e[r+7]=t&255}function ot(e,r,f,t,n){var x,c=0;for(x=0;x<n;x++)c|=e[r+x]^f[t+x];return(1&c-1>>>8)-1}function at(e,r,f,t){return ot(e,r,f,t,16)}function yt(e,r,f,t){return ot(e,r,f,t,32)}function xt(e,r,f,t){for(var n=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,x=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,c=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,b=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,_=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,C=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,S=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,tt=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,U=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,P=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,j=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,K=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,F=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,R=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,N=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,m=n,O=x,L=c,H=b,I=_,E=C,h=S,u=tt,g=U,d=P,p=j,v=K,M=F,z=R,X=N,G=Y,o,$=0;$<20;$+=2)o=m+M|0,I^=o<<7|o>>>25,o=I+m|0,g^=o<<9|o>>>23,o=g+I|0,M^=o<<13|o>>>19,o=M+g|0,m^=o<<18|o>>>14,o=E+O|0,d^=o<<7|o>>>25,o=d+E|0,z^=o<<9|o>>>23,o=z+d|0,O^=o<<13|o>>>19,o=O+z|0,E^=o<<18|o>>>14,o=p+h|0,X^=o<<7|o>>>25,o=X+p|0,L^=o<<9|o>>>23,o=L+X|0,h^=o<<13|o>>>19,o=h+L|0,p^=o<<18|o>>>14,o=G+v|0,H^=o<<7|o>>>25,o=H+G|0,u^=o<<9|o>>>23,o=u+H|0,v^=o<<13|o>>>19,o=v+u|0,G^=o<<18|o>>>14,o=m+H|0,O^=o<<7|o>>>25,o=O+m|0,L^=o<<9|o>>>23,o=L+O|0,H^=o<<13|o>>>19,o=H+L|0,m^=o<<18|o>>>14,o=E+I|0,h^=o<<7|o>>>25,o=h+E|0,u^=o<<9|o>>>23,o=u+h|0,I^=o<<13|o>>>19,o=I+u|0,E^=o<<18|o>>>14,o=p+d|0,v^=o<<7|o>>>25,o=v+p|0,g^=o<<9|o>>>23,o=g+v|0,d^=o<<13|o>>>19,o=d+g|0,p^=o<<18|o>>>14,o=G+X|0,M^=o<<7|o>>>25,o=M+G|0,z^=o<<9|o>>>23,o=z+M|0,X^=o<<13|o>>>19,o=X+z|0,G^=o<<18|o>>>14;m=m+n|0,O=O+x|0,L=L+c|0,H=H+b|0,I=I+_|0,E=E+C|0,h=h+S|0,u=u+tt|0,g=g+U|0,d=d+P|0,p=p+j|0,v=v+K|0,M=M+F|0,z=z+R|0,X=X+N|0,G=G+Y|0,e[0]=m>>>0&255,e[1]=m>>>8&255,e[2]=m>>>16&255,e[3]=m>>>24&255,e[4]=O>>>0&255,e[5]=O>>>8&255,e[6]=O>>>16&255,e[7]=O>>>24&255,e[8]=L>>>0&255,e[9]=L>>>8&255,e[10]=L>>>16&255,e[11]=L>>>24&255,e[12]=H>>>0&255,e[13]=H>>>8&255,e[14]=H>>>16&255,e[15]=H>>>24&255,e[16]=I>>>0&255,e[17]=I>>>8&255,e[18]=I>>>16&255,e[19]=I>>>24&255,e[20]=E>>>0&255,e[21]=E>>>8&255,e[22]=E>>>16&255,e[23]=E>>>24&255,e[24]=h>>>0&255,e[25]=h>>>8&255,e[26]=h>>>16&255,e[27]=h>>>24&255,e[28]=u>>>0&255,e[29]=u>>>8&255,e[30]=u>>>16&255,e[31]=u>>>24&255,e[32]=g>>>0&255,e[33]=g>>>8&255,e[34]=g>>>16&255,e[35]=g>>>24&255,e[36]=d>>>0&255,e[37]=d>>>8&255,e[38]=d>>>16&255,e[39]=d>>>24&255,e[40]=p>>>0&255,e[41]=p>>>8&255,e[42]=p>>>16&255,e[43]=p>>>24&255,e[44]=v>>>0&255,e[45]=v>>>8&255,e[46]=v>>>16&255,e[47]=v>>>24&255,e[48]=M>>>0&255,e[49]=M>>>8&255,e[50]=M>>>16&255,e[51]=M>>>24&255,e[52]=z>>>0&255,e[53]=z>>>8&255,e[54]=z>>>16&255,e[55]=z>>>24&255,e[56]=X>>>0&255,e[57]=X>>>8&255,e[58]=X>>>16&255,e[59]=X>>>24&255,e[60]=G>>>0&255,e[61]=G>>>8&255,e[62]=G>>>16&255,e[63]=G>>>24&255}function dt(e,r,f,t){for(var n=t[0]&255|(t[1]&255)<<8|(t[2]&255)<<16|(t[3]&255)<<24,x=f[0]&255|(f[1]&255)<<8|(f[2]&255)<<16|(f[3]&255)<<24,c=f[4]&255|(f[5]&255)<<8|(f[6]&255)<<16|(f[7]&255)<<24,b=f[8]&255|(f[9]&255)<<8|(f[10]&255)<<16|(f[11]&255)<<24,_=f[12]&255|(f[13]&255)<<8|(f[14]&255)<<16|(f[15]&255)<<24,C=t[4]&255|(t[5]&255)<<8|(t[6]&255)<<16|(t[7]&255)<<24,S=r[0]&255|(r[1]&255)<<8|(r[2]&255)<<16|(r[3]&255)<<24,tt=r[4]&255|(r[5]&255)<<8|(r[6]&255)<<16|(r[7]&255)<<24,U=r[8]&255|(r[9]&255)<<8|(r[10]&255)<<16|(r[11]&255)<<24,P=r[12]&255|(r[13]&255)<<8|(r[14]&255)<<16|(r[15]&255)<<24,j=t[8]&255|(t[9]&255)<<8|(t[10]&255)<<16|(t[11]&255)<<24,K=f[16]&255|(f[17]&255)<<8|(f[18]&255)<<16|(f[19]&255)<<24,F=f[20]&255|(f[21]&255)<<8|(f[22]&255)<<16|(f[23]&255)<<24,R=f[24]&255|(f[25]&255)<<8|(f[26]&255)<<16|(f[27]&255)<<24,N=f[28]&255|(f[29]&255)<<8|(f[30]&255)<<16|(f[31]&255)<<24,Y=t[12]&255|(t[13]&255)<<8|(t[14]&255)<<16|(t[15]&255)<<24,m=n,O=x,L=c,H=b,I=_,E=C,h=S,u=tt,g=U,d=P,p=j,v=K,M=F,z=R,X=N,G=Y,o,$=0;$<20;$+=2)o=m+M|0,I^=o<<7|o>>>25,o=I+m|0,g^=o<<9|o>>>23,o=g+I|0,M^=o<<13|o>>>19,o=M+g|0,m^=o<<18|o>>>14,o=E+O|0,d^=o<<7|o>>>25,o=d+E|0,z^=o<<9|o>>>23,o=z+d|0,O^=o<<13|o>>>19,o=O+z|0,E^=o<<18|o>>>14,o=p+h|0,X^=o<<7|o>>>25,o=X+p|0,L^=o<<9|o>>>23,o=L+X|0,h^=o<<13|o>>>19,o=h+L|0,p^=o<<18|o>>>14,o=G+v|0,H^=o<<7|o>>>25,o=H+G|0,u^=o<<9|o>>>23,o=u+H|0,v^=o<<13|o>>>19,o=v+u|0,G^=o<<18|o>>>14,o=m+H|0,O^=o<<7|o>>>25,o=O+m|0,L^=o<<9|o>>>23,o=L+O|0,H^=o<<13|o>>>19,o=H+L|0,m^=o<<18|o>>>14,o=E+I|0,h^=o<<7|o>>>25,o=h+E|0,u^=o<<9|o>>>23,o=u+h|0,I^=o<<13|o>>>19,o=I+u|0,E^=o<<18|o>>>14,o=p+d|0,v^=o<<7|o>>>25,o=v+p|0,g^=o<<9|o>>>23,o=g+v|0,d^=o<<13|o>>>19,o=d+g|0,p^=o<<18|o>>>14,o=G+X|0,M^=o<<7|o>>>25,o=M+G|0,z^=o<<9|o>>>23,o=z+M|0,X^=o<<13|o>>>19,o=X+z|0,G^=o<<18|o>>>14;e[0]=m>>>0&255,e[1]=m>>>8&255,e[2]=m>>>16&255,e[3]=m>>>24&255,e[4]=E>>>0&255,e[5]=E>>>8&255,e[6]=E>>>16&255,e[7]=E>>>24&255,e[8]=p>>>0&255,e[9]=p>>>8&255,e[10]=p>>>16&255,e[11]=p>>>24&255,e[12]=G>>>0&255,e[13]=G>>>8&255,e[14]=G>>>16&255,e[15]=G>>>24&255,e[16]=h>>>0&255,e[17]=h>>>8&255,e[18]=h>>>16&255,e[19]=h>>>24&255,e[20]=u>>>0&255,e[21]=u>>>8&255,e[22]=u>>>16&255,e[23]=u>>>24&255,e[24]=g>>>0&255,e[25]=g>>>8&255,e[26]=g>>>16&255,e[27]=g>>>24&255,e[28]=d>>>0&255,e[29]=d>>>8&255,e[30]=d>>>16&255,e[31]=d>>>24&255}function ct(e,r,f,t){xt(e,r,f,t)}function nt(e,r,f,t){dt(e,r,f,t)}var wt=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function mt(e,r,f,t,n,x,c){var b=new Uint8Array(16),_=new Uint8Array(64),C,S;for(S=0;S<16;S++)b[S]=0;for(S=0;S<8;S++)b[S]=x[S];for(;n>=64;){for(ct(_,b,c,wt),S=0;S<64;S++)e[r+S]=f[t+S]^_[S];for(C=1,S=8;S<16;S++)C=C+(b[S]&255)|0,b[S]=C&255,C>>>=8;n-=64,r+=64,t+=64}if(n>0)for(ct(_,b,c,wt),S=0;S<n;S++)e[r+S]=f[t+S]^_[S];return 0}function Lt(e,r,f,t,n){var x=new Uint8Array(16),c=new Uint8Array(64),b,_;for(_=0;_<16;_++)x[_]=0;for(_=0;_<8;_++)x[_]=t[_];for(;f>=64;){for(ct(c,x,n,wt),_=0;_<64;_++)e[r+_]=c[_];for(b=1,_=8;_<16;_++)b=b+(x[_]&255)|0,x[_]=b&255,b>>>=8;f-=64,r+=64}if(f>0)for(ct(c,x,n,wt),_=0;_<f;_++)e[r+_]=c[_];return 0}function Nt(e,r,f,t,n){var x=new Uint8Array(32);nt(x,t,n,wt);for(var c=new Uint8Array(8),b=0;b<8;b++)c[b]=t[b+16];return Lt(e,r,f,c,x)}function Et(e,r,f,t,n,x,c){var b=new Uint8Array(32);nt(b,x,c,wt);for(var _=new Uint8Array(8),C=0;C<8;C++)_[C]=x[C+16];return mt(e,r,f,t,n,_,b)}var Kt=function(e){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var r,f,t,n,x,c,b,_;r=e[0]&255|(e[1]&255)<<8,this.r[0]=r&8191,f=e[2]&255|(e[3]&255)<<8,this.r[1]=(r>>>13|f<<3)&8191,t=e[4]&255|(e[5]&255)<<8,this.r[2]=(f>>>10|t<<6)&7939,n=e[6]&255|(e[7]&255)<<8,this.r[3]=(t>>>7|n<<9)&8191,x=e[8]&255|(e[9]&255)<<8,this.r[4]=(n>>>4|x<<12)&255,this.r[5]=x>>>1&8190,c=e[10]&255|(e[11]&255)<<8,this.r[6]=(x>>>14|c<<2)&8191,b=e[12]&255|(e[13]&255)<<8,this.r[7]=(c>>>11|b<<5)&8065,_=e[14]&255|(e[15]&255)<<8,this.r[8]=(b>>>8|_<<8)&8191,this.r[9]=_>>>5&127,this.pad[0]=e[16]&255|(e[17]&255)<<8,this.pad[1]=e[18]&255|(e[19]&255)<<8,this.pad[2]=e[20]&255|(e[21]&255)<<8,this.pad[3]=e[22]&255|(e[23]&255)<<8,this.pad[4]=e[24]&255|(e[25]&255)<<8,this.pad[5]=e[26]&255|(e[27]&255)<<8,this.pad[6]=e[28]&255|(e[29]&255)<<8,this.pad[7]=e[30]&255|(e[31]&255)<<8};Kt.prototype.blocks=function(e,r,f){for(var t=this.fin?0:2048,n,x,c,b,_,C,S,tt,U,P,j,K,F,R,N,Y,m,O,L,H=this.h[0],I=this.h[1],E=this.h[2],h=this.h[3],u=this.h[4],g=this.h[5],d=this.h[6],p=this.h[7],v=this.h[8],M=this.h[9],z=this.r[0],X=this.r[1],G=this.r[2],o=this.r[3],$=this.r[4],et=this.r[5],ft=this.r[6],q=this.r[7],J=this.r[8],Q=this.r[9];f>=16;)n=e[r+0]&255|(e[r+1]&255)<<8,H+=n&8191,x=e[r+2]&255|(e[r+3]&255)<<8,I+=(n>>>13|x<<3)&8191,c=e[r+4]&255|(e[r+5]&255)<<8,E+=(x>>>10|c<<6)&8191,b=e[r+6]&255|(e[r+7]&255)<<8,h+=(c>>>7|b<<9)&8191,_=e[r+8]&255|(e[r+9]&255)<<8,u+=(b>>>4|_<<12)&8191,g+=_>>>1&8191,C=e[r+10]&255|(e[r+11]&255)<<8,d+=(_>>>14|C<<2)&8191,S=e[r+12]&255|(e[r+13]&255)<<8,p+=(C>>>11|S<<5)&8191,tt=e[r+14]&255|(e[r+15]&255)<<8,v+=(S>>>8|tt<<8)&8191,M+=tt>>>5|t,U=0,P=U,P+=H*z,P+=I*(5*Q),P+=E*(5*J),P+=h*(5*q),P+=u*(5*ft),U=P>>>13,P&=8191,P+=g*(5*et),P+=d*(5*$),P+=p*(5*o),P+=v*(5*G),P+=M*(5*X),U+=P>>>13,P&=8191,j=U,j+=H*X,j+=I*z,j+=E*(5*Q),j+=h*(5*J),j+=u*(5*q),U=j>>>13,j&=8191,j+=g*(5*ft),j+=d*(5*et),j+=p*(5*$),j+=v*(5*o),j+=M*(5*G),U+=j>>>13,j&=8191,K=U,K+=H*G,K+=I*X,K+=E*z,K+=h*(5*Q),K+=u*(5*J),U=K>>>13,K&=8191,K+=g*(5*q),K+=d*(5*ft),K+=p*(5*et),K+=v*(5*$),K+=M*(5*o),U+=K>>>13,K&=8191,F=U,F+=H*o,F+=I*G,F+=E*X,F+=h*z,F+=u*(5*Q),U=F>>>13,F&=8191,F+=g*(5*J),F+=d*(5*q),F+=p*(5*ft),F+=v*(5*et),F+=M*(5*$),U+=F>>>13,F&=8191,R=U,R+=H*$,R+=I*o,R+=E*G,R+=h*X,R+=u*z,U=R>>>13,R&=8191,R+=g*(5*Q),R+=d*(5*J),R+=p*(5*q),R+=v*(5*ft),R+=M*(5*et),U+=R>>>13,R&=8191,N=U,N+=H*et,N+=I*$,N+=E*o,N+=h*G,N+=u*X,U=N>>>13,N&=8191,N+=g*z,N+=d*(5*Q),N+=p*(5*J),N+=v*(5*q),N+=M*(5*ft),U+=N>>>13,N&=8191,Y=U,Y+=H*ft,Y+=I*et,Y+=E*$,Y+=h*o,Y+=u*G,U=Y>>>13,Y&=8191,Y+=g*X,Y+=d*z,Y+=p*(5*Q),Y+=v*(5*J),Y+=M*(5*q),U+=Y>>>13,Y&=8191,m=U,m+=H*q,m+=I*ft,m+=E*et,m+=h*$,m+=u*o,U=m>>>13,m&=8191,m+=g*G,m+=d*X,m+=p*z,m+=v*(5*Q),m+=M*(5*J),U+=m>>>13,m&=8191,O=U,O+=H*J,O+=I*q,O+=E*ft,O+=h*et,O+=u*$,U=O>>>13,O&=8191,O+=g*o,O+=d*G,O+=p*X,O+=v*z,O+=M*(5*Q),U+=O>>>13,O&=8191,L=U,L+=H*Q,L+=I*J,L+=E*q,L+=h*ft,L+=u*et,U=L>>>13,L&=8191,L+=g*$,L+=d*o,L+=p*G,L+=v*X,L+=M*z,U+=L>>>13,L&=8191,U=(U<<2)+U|0,U=U+P|0,P=U&8191,U=U>>>13,j+=U,H=P,I=j,E=K,h=F,u=R,g=N,d=Y,p=m,v=O,M=L,r+=16,f-=16;this.h[0]=H,this.h[1]=I,this.h[2]=E,this.h[3]=h,this.h[4]=u,this.h[5]=g,this.h[6]=d,this.h[7]=p,this.h[8]=v,this.h[9]=M},Kt.prototype.finish=function(e,r){var f=new Uint16Array(10),t,n,x,c;if(this.leftover){for(c=this.leftover,this.buffer[c++]=1;c<16;c++)this.buffer[c]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(t=this.h[1]>>>13,this.h[1]&=8191,c=2;c<10;c++)this.h[c]+=t,t=this.h[c]>>>13,this.h[c]&=8191;for(this.h[0]+=t*5,t=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=t,t=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=t,f[0]=this.h[0]+5,t=f[0]>>>13,f[0]&=8191,c=1;c<10;c++)f[c]=this.h[c]+t,t=f[c]>>>13,f[c]&=8191;for(f[9]-=8192,n=(t^1)-1,c=0;c<10;c++)f[c]&=n;for(n=~n,c=0;c<10;c++)this.h[c]=this.h[c]&n|f[c];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,x=this.h[0]+this.pad[0],this.h[0]=x&65535,c=1;c<8;c++)x=(this.h[c]+this.pad[c]|0)+(x>>>16)|0,this.h[c]=x&65535;e[r+0]=this.h[0]>>>0&255,e[r+1]=this.h[0]>>>8&255,e[r+2]=this.h[1]>>>0&255,e[r+3]=this.h[1]>>>8&255,e[r+4]=this.h[2]>>>0&255,e[r+5]=this.h[2]>>>8&255,e[r+6]=this.h[3]>>>0&255,e[r+7]=this.h[3]>>>8&255,e[r+8]=this.h[4]>>>0&255,e[r+9]=this.h[4]>>>8&255,e[r+10]=this.h[5]>>>0&255,e[r+11]=this.h[5]>>>8&255,e[r+12]=this.h[6]>>>0&255,e[r+13]=this.h[6]>>>8&255,e[r+14]=this.h[7]>>>0&255,e[r+15]=this.h[7]>>>8&255},Kt.prototype.update=function(e,r,f){var t,n;if(this.leftover){for(n=16-this.leftover,n>f&&(n=f),t=0;t<n;t++)this.buffer[this.leftover+t]=e[r+t];if(f-=n,r+=n,this.leftover+=n,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(f>=16&&(n=f-f%16,this.blocks(e,r,n),r+=n,f-=n),f){for(t=0;t<f;t++)this.buffer[this.leftover+t]=e[r+t];this.leftover+=f}};function Wt(e,r,f,t,n,x){var c=new Kt(x);return c.update(f,t,n),c.finish(e,r),0}function e0(e,r,f,t,n,x){var c=new Uint8Array(16);return Wt(c,0,f,t,n,x),at(e,r,c,0)}function H0(e,r,f,t,n){var x;if(f<32)return-1;for(Et(e,0,r,0,f,t,n),Wt(e,16,e,32,f-32,e),x=0;x<16;x++)e[x]=0;return 0}function I0(e,r,f,t,n){var x,c=new Uint8Array(32);if(f<32||(Nt(c,0,32,t,n),e0(r,16,r,32,f-32,c)!==0))return-1;for(Et(e,0,r,0,f,t,n),x=0;x<32;x++)e[x]=0;return 0}function kt(e,r){var f;for(f=0;f<16;f++)e[f]=r[f]|0}function C0(e){var r,f,t=1;for(r=0;r<16;r++)f=e[r]+t+65535,t=Math.floor(f/65536),e[r]=f-t*65536;e[0]+=t-1+37*(t-1)}function qt(e,r,f){for(var t,n=~(f-1),x=0;x<16;x++)t=n&(e[x]^r[x]),e[x]^=t,r[x]^=t}function $t(e,r){var f,t,n,x=s(),c=s();for(f=0;f<16;f++)c[f]=r[f];for(C0(c),C0(c),C0(c),t=0;t<2;t++){for(x[0]=c[0]-65517,f=1;f<15;f++)x[f]=c[f]-65535-(x[f-1]>>16&1),x[f-1]&=65535;x[15]=c[15]-32767-(x[14]>>16&1),n=x[15]>>16&1,x[14]&=65535,qt(c,x,1-n)}for(f=0;f<16;f++)e[2*f]=c[f]&255,e[2*f+1]=c[f]>>8}function ne(e,r){var f=new Uint8Array(32),t=new Uint8Array(32);return $t(f,e),$t(t,r),yt(f,0,t,0)}function se(e){var r=new Uint8Array(32);return $t(r,e),r[0]&1}function T0(e,r){var f;for(f=0;f<16;f++)e[f]=r[2*f]+(r[2*f+1]<<8);e[15]&=32767}function Ct(e,r,f){for(var t=0;t<16;t++)e[t]=r[t]+f[t]}function Tt(e,r,f){for(var t=0;t<16;t++)e[t]=r[t]-f[t]}function Z(e,r,f){var t,n,x=0,c=0,b=0,_=0,C=0,S=0,tt=0,U=0,P=0,j=0,K=0,F=0,R=0,N=0,Y=0,m=0,O=0,L=0,H=0,I=0,E=0,h=0,u=0,g=0,d=0,p=0,v=0,M=0,z=0,X=0,G=0,o=f[0],$=f[1],et=f[2],ft=f[3],q=f[4],J=f[5],Q=f[6],bt=f[7],rt=f[8],ht=f[9],ut=f[10],lt=f[11],pt=f[12],gt=f[13],vt=f[14],_t=f[15];t=r[0],x+=t*o,c+=t*$,b+=t*et,_+=t*ft,C+=t*q,S+=t*J,tt+=t*Q,U+=t*bt,P+=t*rt,j+=t*ht,K+=t*ut,F+=t*lt,R+=t*pt,N+=t*gt,Y+=t*vt,m+=t*_t,t=r[1],c+=t*o,b+=t*$,_+=t*et,C+=t*ft,S+=t*q,tt+=t*J,U+=t*Q,P+=t*bt,j+=t*rt,K+=t*ht,F+=t*ut,R+=t*lt,N+=t*pt,Y+=t*gt,m+=t*vt,O+=t*_t,t=r[2],b+=t*o,_+=t*$,C+=t*et,S+=t*ft,tt+=t*q,U+=t*J,P+=t*Q,j+=t*bt,K+=t*rt,F+=t*ht,R+=t*ut,N+=t*lt,Y+=t*pt,m+=t*gt,O+=t*vt,L+=t*_t,t=r[3],_+=t*o,C+=t*$,S+=t*et,tt+=t*ft,U+=t*q,P+=t*J,j+=t*Q,K+=t*bt,F+=t*rt,R+=t*ht,N+=t*ut,Y+=t*lt,m+=t*pt,O+=t*gt,L+=t*vt,H+=t*_t,t=r[4],C+=t*o,S+=t*$,tt+=t*et,U+=t*ft,P+=t*q,j+=t*J,K+=t*Q,F+=t*bt,R+=t*rt,N+=t*ht,Y+=t*ut,m+=t*lt,O+=t*pt,L+=t*gt,H+=t*vt,I+=t*_t,t=r[5],S+=t*o,tt+=t*$,U+=t*et,P+=t*ft,j+=t*q,K+=t*J,F+=t*Q,R+=t*bt,N+=t*rt,Y+=t*ht,m+=t*ut,O+=t*lt,L+=t*pt,H+=t*gt,I+=t*vt,E+=t*_t,t=r[6],tt+=t*o,U+=t*$,P+=t*et,j+=t*ft,K+=t*q,F+=t*J,R+=t*Q,N+=t*bt,Y+=t*rt,m+=t*ht,O+=t*ut,L+=t*lt,H+=t*pt,I+=t*gt,E+=t*vt,h+=t*_t,t=r[7],U+=t*o,P+=t*$,j+=t*et,K+=t*ft,F+=t*q,R+=t*J,N+=t*Q,Y+=t*bt,m+=t*rt,O+=t*ht,L+=t*ut,H+=t*lt,I+=t*pt,E+=t*gt,h+=t*vt,u+=t*_t,t=r[8],P+=t*o,j+=t*$,K+=t*et,F+=t*ft,R+=t*q,N+=t*J,Y+=t*Q,m+=t*bt,O+=t*rt,L+=t*ht,H+=t*ut,I+=t*lt,E+=t*pt,h+=t*gt,u+=t*vt,g+=t*_t,t=r[9],j+=t*o,K+=t*$,F+=t*et,R+=t*ft,N+=t*q,Y+=t*J,m+=t*Q,O+=t*bt,L+=t*rt,H+=t*ht,I+=t*ut,E+=t*lt,h+=t*pt,u+=t*gt,g+=t*vt,d+=t*_t,t=r[10],K+=t*o,F+=t*$,R+=t*et,N+=t*ft,Y+=t*q,m+=t*J,O+=t*Q,L+=t*bt,H+=t*rt,I+=t*ht,E+=t*ut,h+=t*lt,u+=t*pt,g+=t*gt,d+=t*vt,p+=t*_t,t=r[11],F+=t*o,R+=t*$,N+=t*et,Y+=t*ft,m+=t*q,O+=t*J,L+=t*Q,H+=t*bt,I+=t*rt,E+=t*ht,h+=t*ut,u+=t*lt,g+=t*pt,d+=t*gt,p+=t*vt,v+=t*_t,t=r[12],R+=t*o,N+=t*$,Y+=t*et,m+=t*ft,O+=t*q,L+=t*J,H+=t*Q,I+=t*bt,E+=t*rt,h+=t*ht,u+=t*ut,g+=t*lt,d+=t*pt,p+=t*gt,v+=t*vt,M+=t*_t,t=r[13],N+=t*o,Y+=t*$,m+=t*et,O+=t*ft,L+=t*q,H+=t*J,I+=t*Q,E+=t*bt,h+=t*rt,u+=t*ht,g+=t*ut,d+=t*lt,p+=t*pt,v+=t*gt,M+=t*vt,z+=t*_t,t=r[14],Y+=t*o,m+=t*$,O+=t*et,L+=t*ft,H+=t*q,I+=t*J,E+=t*Q,h+=t*bt,u+=t*rt,g+=t*ht,d+=t*ut,p+=t*lt,v+=t*pt,M+=t*gt,z+=t*vt,X+=t*_t,t=r[15],m+=t*o,O+=t*$,L+=t*et,H+=t*ft,I+=t*q,E+=t*J,h+=t*Q,u+=t*bt,g+=t*rt,d+=t*ht,p+=t*ut,v+=t*lt,M+=t*pt,z+=t*gt,X+=t*vt,G+=t*_t,x+=38*O,c+=38*L,b+=38*H,_+=38*I,C+=38*E,S+=38*h,tt+=38*u,U+=38*g,P+=38*d,j+=38*p,K+=38*v,F+=38*M,R+=38*z,N+=38*X,Y+=38*G,n=1,t=x+n+65535,n=Math.floor(t/65536),x=t-n*65536,t=c+n+65535,n=Math.floor(t/65536),c=t-n*65536,t=b+n+65535,n=Math.floor(t/65536),b=t-n*65536,t=_+n+65535,n=Math.floor(t/65536),_=t-n*65536,t=C+n+65535,n=Math.floor(t/65536),C=t-n*65536,t=S+n+65535,n=Math.floor(t/65536),S=t-n*65536,t=tt+n+65535,n=Math.floor(t/65536),tt=t-n*65536,t=U+n+65535,n=Math.floor(t/65536),U=t-n*65536,t=P+n+65535,n=Math.floor(t/65536),P=t-n*65536,t=j+n+65535,n=Math.floor(t/65536),j=t-n*65536,t=K+n+65535,n=Math.floor(t/65536),K=t-n*65536,t=F+n+65535,n=Math.floor(t/65536),F=t-n*65536,t=R+n+65535,n=Math.floor(t/65536),R=t-n*65536,t=N+n+65535,n=Math.floor(t/65536),N=t-n*65536,t=Y+n+65535,n=Math.floor(t/65536),Y=t-n*65536,t=m+n+65535,n=Math.floor(t/65536),m=t-n*65536,x+=n-1+37*(n-1),n=1,t=x+n+65535,n=Math.floor(t/65536),x=t-n*65536,t=c+n+65535,n=Math.floor(t/65536),c=t-n*65536,t=b+n+65535,n=Math.floor(t/65536),b=t-n*65536,t=_+n+65535,n=Math.floor(t/65536),_=t-n*65536,t=C+n+65535,n=Math.floor(t/65536),C=t-n*65536,t=S+n+65535,n=Math.floor(t/65536),S=t-n*65536,t=tt+n+65535,n=Math.floor(t/65536),tt=t-n*65536,t=U+n+65535,n=Math.floor(t/65536),U=t-n*65536,t=P+n+65535,n=Math.floor(t/65536),P=t-n*65536,t=j+n+65535,n=Math.floor(t/65536),j=t-n*65536,t=K+n+65535,n=Math.floor(t/65536),K=t-n*65536,t=F+n+65535,n=Math.floor(t/65536),F=t-n*65536,t=R+n+65535,n=Math.floor(t/65536),R=t-n*65536,t=N+n+65535,n=Math.floor(t/65536),N=t-n*65536,t=Y+n+65535,n=Math.floor(t/65536),Y=t-n*65536,t=m+n+65535,n=Math.floor(t/65536),m=t-n*65536,x+=n-1+37*(n-1),e[0]=x,e[1]=c,e[2]=b,e[3]=_,e[4]=C,e[5]=S,e[6]=tt,e[7]=U,e[8]=P,e[9]=j,e[10]=K,e[11]=F,e[12]=R,e[13]=N,e[14]=Y,e[15]=m}function Ht(e,r){Z(e,r,r)}function ie(e,r){var f=s(),t;for(t=0;t<16;t++)f[t]=r[t];for(t=253;t>=0;t--)Ht(f,f),t!==2&&t!==4&&Z(f,f,r);for(t=0;t<16;t++)e[t]=f[t]}function oe(e,r){var f=s(),t;for(t=0;t<16;t++)f[t]=r[t];for(t=250;t>=0;t--)Ht(f,f),t!==1&&Z(f,f,r);for(t=0;t<16;t++)e[t]=f[t]}function x0(e,r,f){var t=new Uint8Array(32),n=new Float64Array(80),x,c,b=s(),_=s(),C=s(),S=s(),tt=s(),U=s();for(c=0;c<31;c++)t[c]=r[c];for(t[31]=r[31]&127|64,t[0]&=248,T0(n,f),c=0;c<16;c++)_[c]=n[c],S[c]=b[c]=C[c]=0;for(b[0]=S[0]=1,c=254;c>=0;--c)x=t[c>>>3]>>>(c&7)&1,qt(b,_,x),qt(C,S,x),Ct(tt,b,C),Tt(b,b,C),Ct(C,_,S),Tt(_,_,S),Ht(S,tt),Ht(U,b),Z(b,C,b),Z(C,_,tt),Ct(tt,b,C),Tt(b,b,C),Ht(_,b),Tt(C,S,U),Z(b,C,B),Ct(b,b,S),Z(C,C,b),Z(b,S,U),Z(S,_,n),Ht(_,tt),qt(b,_,x),qt(C,S,x);for(c=0;c<16;c++)n[c+16]=b[c],n[c+32]=C[c],n[c+48]=_[c],n[c+64]=S[c];var P=n.subarray(32),j=n.subarray(16);return ie(P,P),Z(j,j,P),$t(e,j),0}function c0(e,r){return x0(e,r,l)}function ae(e,r){return a(r,32),c0(e,r)}function h0(e,r,f){var t=new Uint8Array(32);return x0(t,f,r),nt(e,y,t,wt)}var xe=H0,Me=I0;function ke(e,r,f,t,n,x){var c=new Uint8Array(32);return h0(c,n,x),xe(e,r,f,t,c)}function Pe(e,r,f,t,n,x){var c=new Uint8Array(32);return h0(c,n,x),Me(e,r,f,t,c)}var ce=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function he(e,r,f,t){for(var n=new Int32Array(16),x=new Int32Array(16),c,b,_,C,S,tt,U,P,j,K,F,R,N,Y,m,O,L,H,I,E,h,u,g,d,p,v,M=e[0],z=e[1],X=e[2],G=e[3],o=e[4],$=e[5],et=e[6],ft=e[7],q=r[0],J=r[1],Q=r[2],bt=r[3],rt=r[4],ht=r[5],ut=r[6],lt=r[7],pt=0;t>=128;){for(I=0;I<16;I++)E=8*I+pt,n[I]=f[E+0]<<24|f[E+1]<<16|f[E+2]<<8|f[E+3],x[I]=f[E+4]<<24|f[E+5]<<16|f[E+6]<<8|f[E+7];for(I=0;I<80;I++)if(c=M,b=z,_=X,C=G,S=o,tt=$,U=et,P=ft,j=q,K=J,F=Q,R=bt,N=rt,Y=ht,m=ut,O=lt,h=ft,u=lt,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=(o>>>14|rt<<18)^(o>>>18|rt<<14)^(rt>>>9|o<<23),u=(rt>>>14|o<<18)^(rt>>>18|o<<14)^(o>>>9|rt<<23),g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,h=o&$^~o&et,u=rt&ht^~rt&ut,g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,h=ce[I*2],u=ce[I*2+1],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,h=n[I%16],u=x[I%16],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,L=p&65535|v<<16,H=g&65535|d<<16,h=L,u=H,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=(M>>>28|q<<4)^(q>>>2|M<<30)^(q>>>7|M<<25),u=(q>>>28|M<<4)^(M>>>2|q<<30)^(M>>>7|q<<25),g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,h=M&z^M&X^z&X,u=q&J^q&Q^J&Q,g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,P=p&65535|v<<16,O=g&65535|d<<16,h=C,u=R,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=L,u=H,g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,C=p&65535|v<<16,R=g&65535|d<<16,z=c,X=b,G=_,o=C,$=S,et=tt,ft=U,M=P,J=j,Q=K,bt=F,rt=R,ht=N,ut=Y,lt=m,q=O,I%16===15)for(E=0;E<16;E++)h=n[E],u=x[E],g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=n[(E+9)%16],u=x[(E+9)%16],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,L=n[(E+1)%16],H=x[(E+1)%16],h=(L>>>1|H<<31)^(L>>>8|H<<24)^L>>>7,u=(H>>>1|L<<31)^(H>>>8|L<<24)^(H>>>7|L<<25),g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,L=n[(E+14)%16],H=x[(E+14)%16],h=(L>>>19|H<<13)^(H>>>29|L<<3)^L>>>6,u=(H>>>19|L<<13)^(L>>>29|H<<3)^(H>>>6|L<<26),g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,n[E]=p&65535|v<<16,x[E]=g&65535|d<<16;h=M,u=q,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[0],u=r[0],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[0]=M=p&65535|v<<16,r[0]=q=g&65535|d<<16,h=z,u=J,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[1],u=r[1],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[1]=z=p&65535|v<<16,r[1]=J=g&65535|d<<16,h=X,u=Q,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[2],u=r[2],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[2]=X=p&65535|v<<16,r[2]=Q=g&65535|d<<16,h=G,u=bt,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[3],u=r[3],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[3]=G=p&65535|v<<16,r[3]=bt=g&65535|d<<16,h=o,u=rt,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[4],u=r[4],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[4]=o=p&65535|v<<16,r[4]=rt=g&65535|d<<16,h=$,u=ht,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[5],u=r[5],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[5]=$=p&65535|v<<16,r[5]=ht=g&65535|d<<16,h=et,u=ut,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[6],u=r[6],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[6]=et=p&65535|v<<16,r[6]=ut=g&65535|d<<16,h=ft,u=lt,g=u&65535,d=u>>>16,p=h&65535,v=h>>>16,h=e[7],u=r[7],g+=u&65535,d+=u>>>16,p+=h&65535,v+=h>>>16,d+=g>>>16,p+=d>>>16,v+=p>>>16,e[7]=ft=p&65535|v<<16,r[7]=lt=g&65535|d<<16,pt+=128,t-=128}return t}function zt(e,r,f){var t=new Int32Array(8),n=new Int32Array(8),x=new Uint8Array(256),c,b=f;for(t[0]=1779033703,t[1]=3144134277,t[2]=1013904242,t[3]=2773480762,t[4]=1359893119,t[5]=2600822924,t[6]=528734635,t[7]=1541459225,n[0]=4089235720,n[1]=2227873595,n[2]=4271175723,n[3]=1595750129,n[4]=2917565137,n[5]=725511199,n[6]=4215389547,n[7]=327033209,he(t,n,r,f),f%=128,c=0;c<f;c++)x[c]=r[b-f+c];for(x[f]=128,f=256-128*(f<112?1:0),x[f-9]=0,it(x,f-8,b/536870912|0,b<<3),he(t,n,x,f),c=0;c<8;c++)it(e,8*c,t[c],n[c]);return 0}function u0(e,r){var f=s(),t=s(),n=s(),x=s(),c=s(),b=s(),_=s(),C=s(),S=s();Tt(f,e[1],e[0]),Tt(S,r[1],r[0]),Z(f,f,S),Ct(t,e[0],e[1]),Ct(S,r[0],r[1]),Z(t,t,S),Z(n,e[3],r[3]),Z(n,n,V),Z(x,e[2],r[2]),Ct(x,x,x),Tt(c,t,f),Tt(b,x,n),Ct(_,x,n),Ct(C,t,f),Z(e[0],c,b),Z(e[1],C,_),Z(e[2],_,b),Z(e[3],c,C)}function ue(e,r,f){var t;for(t=0;t<4;t++)qt(e[t],r[t],f)}function O0(e,r){var f=s(),t=s(),n=s();ie(n,r[2]),Z(f,r[0],n),Z(t,r[1],n),$t(e,t),e[31]^=se(f)<<7}function D0(e,r,f){var t,n;for(kt(e[0],A),kt(e[1],w),kt(e[2],w),kt(e[3],A),n=255;n>=0;--n)t=f[n/8|0]>>(n&7)&1,ue(e,r,t),u0(r,e),u0(e,e),ue(e,r,t)}function l0(e,r){var f=[s(),s(),s(),s()];kt(f[0],W),kt(f[1],D),kt(f[2],w),Z(f[3],W,D),D0(e,f,r)}function M0(e,r,f){var t=new Uint8Array(64),n=[s(),s(),s(),s()],x;for(f||a(r,32),zt(t,r,32),t[0]&=248,t[31]&=127,t[31]|=64,l0(n,t),O0(e,n),x=0;x<32;x++)r[x+32]=e[x];return 0}var d0=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function k0(e,r){var f,t,n,x;for(t=63;t>=32;--t){for(f=0,n=t-32,x=t-12;n<x;++n)r[n]+=f-16*r[t]*d0[n-(t-32)],f=Math.floor((r[n]+128)/256),r[n]-=f*256;r[n]+=f,r[t]=0}for(f=0,n=0;n<32;n++)r[n]+=f-(r[31]>>4)*d0[n],f=r[n]>>8,r[n]&=255;for(n=0;n<32;n++)r[n]-=f*d0[n];for(t=0;t<32;t++)r[t+1]+=r[t]>>8,e[t]=r[t]&255}function P0(e){var r=new Float64Array(64),f;for(f=0;f<64;f++)r[f]=e[f];for(f=0;f<64;f++)e[f]=0;k0(e,r)}function le(e,r,f,t){var n=new Uint8Array(64),x=new Uint8Array(64),c=new Uint8Array(64),b,_,C=new Float64Array(64),S=[s(),s(),s(),s()];zt(n,t,32),n[0]&=248,n[31]&=127,n[31]|=64;var tt=f+64;for(b=0;b<f;b++)e[64+b]=r[b];for(b=0;b<32;b++)e[32+b]=n[32+b];for(zt(c,e.subarray(32),f+32),P0(c),l0(S,c),O0(e,S),b=32;b<64;b++)e[b]=t[b];for(zt(x,e,f+64),P0(x),b=0;b<64;b++)C[b]=0;for(b=0;b<32;b++)C[b]=c[b];for(b=0;b<32;b++)for(_=0;_<32;_++)C[b+_]+=x[b]*n[_];return k0(e.subarray(32),C),tt}function je(e,r){var f=s(),t=s(),n=s(),x=s(),c=s(),b=s(),_=s();return kt(e[2],w),T0(e[1],r),Ht(n,e[1]),Z(x,n,T),Tt(n,n,e[2]),Ct(x,e[2],x),Ht(c,x),Ht(b,c),Z(_,b,c),Z(f,_,n),Z(f,f,x),oe(f,f),Z(f,f,n),Z(f,f,x),Z(f,f,x),Z(e[0],f,x),Ht(t,e[0]),Z(t,t,x),ne(t,n)&&Z(e[0],e[0],st),Ht(t,e[0]),Z(t,t,x),ne(t,n)?-1:(se(e[0])===r[31]>>7&&Tt(e[0],A,e[0]),Z(e[3],e[0],e[1]),0)}function j0(e,r,f,t){var n,x=new Uint8Array(32),c=new Uint8Array(64),b=[s(),s(),s(),s()],_=[s(),s(),s(),s()];if(f<64||je(_,t))return-1;for(n=0;n<f;n++)e[n]=r[n];for(n=0;n<32;n++)e[n+32]=t[n];if(zt(c,e,f),P0(c),D0(b,_,c),l0(_,r.subarray(32)),u0(b,_),O0(x,b),f-=64,yt(r,0,x,0)){for(n=0;n<f;n++)e[n]=0;return-1}for(n=0;n<f;n++)e[n]=r[n+64];return f}var R0=32,b0=24,f0=32,Zt=16,r0=32,p0=32,n0=32,s0=32,Y0=32,de=b0,Re=f0,Ye=Zt,Pt=64,Gt=32,Jt=64,N0=32,V0=64;i.lowlevel={crypto_core_hsalsa20:nt,crypto_stream_xor:Et,crypto_stream:Nt,crypto_stream_salsa20_xor:mt,crypto_stream_salsa20:Lt,crypto_onetimeauth:Wt,crypto_onetimeauth_verify:e0,crypto_verify_16:at,crypto_verify_32:yt,crypto_secretbox:H0,crypto_secretbox_open:I0,crypto_scalarmult:x0,crypto_scalarmult_base:c0,crypto_box_beforenm:h0,crypto_box_afternm:xe,crypto_box:ke,crypto_box_open:Pe,crypto_box_keypair:ae,crypto_hash:zt,crypto_sign:le,crypto_sign_keypair:M0,crypto_sign_open:j0,crypto_secretbox_KEYBYTES:R0,crypto_secretbox_NONCEBYTES:b0,crypto_secretbox_ZEROBYTES:f0,crypto_secretbox_BOXZEROBYTES:Zt,crypto_scalarmult_BYTES:r0,crypto_scalarmult_SCALARBYTES:p0,crypto_box_PUBLICKEYBYTES:n0,crypto_box_SECRETKEYBYTES:s0,crypto_box_BEFORENMBYTES:Y0,crypto_box_NONCEBYTES:de,crypto_box_ZEROBYTES:Re,crypto_box_BOXZEROBYTES:Ye,crypto_sign_BYTES:Pt,crypto_sign_PUBLICKEYBYTES:Gt,crypto_sign_SECRETKEYBYTES:Jt,crypto_sign_SEEDBYTES:N0,crypto_hash_BYTES:V0,gf:s,D:T,L:d0,pack25519:$t,unpack25519:T0,M:Z,A:Ct,S:Ht,Z:Tt,pow2523:oe,add:u0,set25519:kt,modL:k0,scalarmult:D0,scalarbase:l0};function be(e,r){if(e.length!==R0)throw new Error("bad key size");if(r.length!==b0)throw new Error("bad nonce size")}function Ne(e,r){if(e.length!==n0)throw new Error("bad public key size");if(r.length!==s0)throw new Error("bad secret key size")}function Ut(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function pe(e){for(var r=0;r<e.length;r++)e[r]=0}i.randomBytes=function(e){var r=new Uint8Array(e);return a(r,e),r},i.secretbox=function(e,r,f){Ut(e,r,f),be(f,r);for(var t=new Uint8Array(f0+e.length),n=new Uint8Array(t.length),x=0;x<e.length;x++)t[x+f0]=e[x];return H0(n,t,t.length,r,f),n.subarray(Zt)},i.secretbox.open=function(e,r,f){Ut(e,r,f),be(f,r);for(var t=new Uint8Array(Zt+e.length),n=new Uint8Array(t.length),x=0;x<e.length;x++)t[x+Zt]=e[x];return t.length<32||I0(n,t,t.length,r,f)!==0?null:n.subarray(f0)},i.secretbox.keyLength=R0,i.secretbox.nonceLength=b0,i.secretbox.overheadLength=Zt,i.scalarMult=function(e,r){if(Ut(e,r),e.length!==p0)throw new Error("bad n size");if(r.length!==r0)throw new Error("bad p size");var f=new Uint8Array(r0);return x0(f,e,r),f},i.scalarMult.base=function(e){if(Ut(e),e.length!==p0)throw new Error("bad n size");var r=new Uint8Array(r0);return c0(r,e),r},i.scalarMult.scalarLength=p0,i.scalarMult.groupElementLength=r0,i.box=function(e,r,f,t){var n=i.box.before(f,t);return i.secretbox(e,r,n)},i.box.before=function(e,r){Ut(e,r),Ne(e,r);var f=new Uint8Array(Y0);return h0(f,e,r),f},i.box.after=i.secretbox,i.box.open=function(e,r,f,t){var n=i.box.before(f,t);return i.secretbox.open(e,r,n)},i.box.open.after=i.secretbox.open,i.box.keyPair=function(){var e=new Uint8Array(n0),r=new Uint8Array(s0);return ae(e,r),{publicKey:e,secretKey:r}},i.box.keyPair.fromSecretKey=function(e){if(Ut(e),e.length!==s0)throw new Error("bad secret key size");var r=new Uint8Array(n0);return c0(r,e),{publicKey:r,secretKey:new Uint8Array(e)}},i.box.publicKeyLength=n0,i.box.secretKeyLength=s0,i.box.sharedKeyLength=Y0,i.box.nonceLength=de,i.box.overheadLength=i.secretbox.overheadLength,i.sign=function(e,r){if(Ut(e,r),r.length!==Jt)throw new Error("bad secret key size");var f=new Uint8Array(Pt+e.length);return le(f,e,e.length,r),f},i.sign.open=function(e,r){if(Ut(e,r),r.length!==Gt)throw new Error("bad public key size");var f=new Uint8Array(e.length),t=j0(f,e,e.length,r);if(t<0)return null;for(var n=new Uint8Array(t),x=0;x<n.length;x++)n[x]=f[x];return n},i.sign.detached=function(e,r){for(var f=i.sign(e,r),t=new Uint8Array(Pt),n=0;n<t.length;n++)t[n]=f[n];return t},i.sign.detached.verify=function(e,r,f){if(Ut(e,r,f),r.length!==Pt)throw new Error("bad signature size");if(f.length!==Gt)throw new Error("bad public key size");var t=new Uint8Array(Pt+e.length),n=new Uint8Array(Pt+e.length),x;for(x=0;x<Pt;x++)t[x]=r[x];for(x=0;x<e.length;x++)t[x+Pt]=e[x];return j0(n,t,t.length,f)>=0},i.sign.keyPair=function(){var e=new Uint8Array(Gt),r=new Uint8Array(Jt);return M0(e,r),{publicKey:e,secretKey:r}},i.sign.keyPair.fromSecretKey=function(e){if(Ut(e),e.length!==Jt)throw new Error("bad secret key size");for(var r=new Uint8Array(Gt),f=0;f<r.length;f++)r[f]=e[32+f];return{publicKey:r,secretKey:new Uint8Array(e)}},i.sign.keyPair.fromSeed=function(e){if(Ut(e),e.length!==N0)throw new Error("bad seed size");for(var r=new Uint8Array(Gt),f=new Uint8Array(Jt),t=0;t<32;t++)f[t]=e[t];return M0(r,f,!0),{publicKey:r,secretKey:f}},i.sign.publicKeyLength=Gt,i.sign.secretKeyLength=Jt,i.sign.seedLength=N0,i.sign.signatureLength=Pt,i.hash=function(e){Ut(e);var r=new Uint8Array(V0);return zt(r,e,e.length),r},i.hash.hashLength=V0,i.verify=function(e,r){return Ut(e,r),e.length===0||r.length===0||e.length!==r.length?!1:ot(e,0,r,0,e.length)===0},i.setPRNG=function(e){a=e},(function(){var e=typeof self<"u"?self.crypto||self.msCrypto:null;if(e&&e.getRandomValues){var r=65536;i.setPRNG(function(f,t){var n,x=new Uint8Array(t);for(n=0;n<t;n+=r)e.getRandomValues(x.subarray(n,n+Math.min(t-n,r)));for(n=0;n<t;n++)f[n]=x[n];pe(x)})}else typeof K0<"u"&&(e=K0("crypto"),e&&e.randomBytes&&i.setPRNG(function(f,t){var n,x=e.randomBytes(t);for(n=0;n<t;n++)f[n]=x[n];pe(x)}))})()})(typeof E0<"u"&&E0.exports?E0.exports:self.nacl=self.nacl||{})});function Ze(i){return i instanceof Uint8Array||ArrayBuffer.isView(i)&&i.constructor.name==="Uint8Array"}function Xt(i,s=""){if(!Number.isSafeInteger(i)||i<0){let a=s&&`"${s}" `;throw new Error(`${a}expected integer >= 0, got ${i}`)}}function It(i,s,a=""){let y=Ze(i),l=i?.length,A=s!==void 0;if(!y||A&&l!==s){let w=a&&`"${a}" `,B=A?` of length ${s}`:"",T=y?`length=${l}`:`type=${typeof i}`;throw new Error(w+"expected Uint8Array"+B+", got "+T)}return i}function ye(i){if(typeof i!="function"||typeof i.create!="function")throw new Error("Hash must wrapped by utils.createHasher");Xt(i.outputLen),Xt(i.blockLen)}function Ot(i,s=!0){if(i.destroyed)throw new Error("Hash instance has been destroyed");if(s&&i.finished)throw new Error("Hash#digest() has already been called")}function Qt(i,s){It(i,void 0,"digestInto() output");let a=s.outputLen;if(i.length<a)throw new Error('"digestInto() output" expected to be of length >='+a)}function we(i){return new Uint8Array(i.buffer,i.byteOffset,i.byteLength)}function t0(i){return new Uint32Array(i.buffer,i.byteOffset,Math.floor(i.byteLength/4))}function Bt(...i){for(let s=0;s<i.length;s++)i[s].fill(0)}function y0(i){return new DataView(i.buffer,i.byteOffset,i.byteLength)}function At(i,s){return i<<32-s|i>>>s}var ge=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ve(i){return i<<24&4278190080|i<<8&16711680|i>>>8&65280|i>>>24&255}var _e=ge?i=>i:i=>ve(i);function Je(i){for(let s=0;s<i.length;s++)i[s]=ve(i[s]);return i}var St=ge?i=>i:Je;function i0(i,s={}){let a=(l,A)=>i(A).update(l).digest(),y=i(void 0);return a.outputLen=y.outputLen,a.blockLen=y.blockLen,a.create=l=>i(l),Object.assign(a,s),Object.freeze(a)}var Ae=i=>({oid:Uint8Array.from([6,9,96,134,72,1,101,3,4,2,i])});function Ee(i,s,a){return i&s^~i&a}function Se(i,s,a){return i&s^i&a^s&a}var w0=class{constructor(s,a,y,l){k(this,"blockLen");k(this,"outputLen");k(this,"padOffset");k(this,"isLE");k(this,"buffer");k(this,"view");k(this,"finished",!1);k(this,"length",0);k(this,"pos",0);k(this,"destroyed",!1);this.blockLen=s,this.outputLen=a,this.padOffset=y,this.isLE=l,this.buffer=new Uint8Array(s),this.view=y0(this.buffer)}update(s){Ot(this),It(s);let{view:a,buffer:y,blockLen:l}=this,A=s.length;for(let w=0;w<A;){let B=Math.min(l-this.pos,A-w);if(B===l){let T=y0(s);for(;l<=A-w;w+=l)this.process(T,w);continue}y.set(s.subarray(w,w+B),this.pos),this.pos+=B,w+=B,this.pos===l&&(this.process(a,0),this.pos=0)}return this.length+=s.length,this.roundClean(),this}digestInto(s){Ot(this),Qt(s,this),this.finished=!0;let{buffer:a,view:y,blockLen:l,isLE:A}=this,{pos:w}=this;a[w++]=128,Bt(this.buffer.subarray(w)),this.padOffset>l-w&&(this.process(y,0),w=0);for(let D=w;D<l;D++)a[D]=0;y.setBigUint64(l-8,BigInt(this.length*8),A),this.process(y,0);let B=y0(s),T=this.outputLen;if(T%4)throw new Error("_sha2: outputLen must be aligned to 32bit");let V=T/4,W=this.get();if(V>W.length)throw new Error("_sha2: outputLen bigger than state");for(let D=0;D<V;D++)B.setUint32(4*D,W[D],A)}digest(){let{buffer:s,outputLen:a}=this;this.digestInto(s);let y=s.slice(0,a);return this.destroy(),y}_cloneInto(s){s||(s=new this.constructor),s.set(...this.get());let{blockLen:a,buffer:y,length:l,finished:A,destroyed:w,pos:B}=this;return s.destroyed=w,s.finished=A,s.length=l,s.pos=B,l%a&&s.buffer.set(y),s}clone(){return this._cloneInto()}},Dt=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);var g0=BigInt(4294967295),Le=BigInt(32);function z0(i,s=!1){return s?{h:Number(i&g0),l:Number(i>>Le&g0)}:{h:Number(i>>Le&g0)|0,l:Number(i&g0)|0}}var Qe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Vt=new Uint32Array(64),G0=class extends w0{constructor(s){super(64,s,8,!1)}get(){let{A:s,B:a,C:y,D:l,E:A,F:w,G:B,H:T}=this;return[s,a,y,l,A,w,B,T]}set(s,a,y,l,A,w,B,T){this.A=s|0,this.B=a|0,this.C=y|0,this.D=l|0,this.E=A|0,this.F=w|0,this.G=B|0,this.H=T|0}process(s,a){for(let D=0;D<16;D++,a+=4)Vt[D]=s.getUint32(a,!1);for(let D=16;D<64;D++){let st=Vt[D-15],it=Vt[D-2],ot=At(st,7)^At(st,18)^st>>>3,at=At(it,17)^At(it,19)^it>>>10;Vt[D]=at+Vt[D-7]+ot+Vt[D-16]|0}let{A:y,B:l,C:A,D:w,E:B,F:T,G:V,H:W}=this;for(let D=0;D<64;D++){let st=At(B,6)^At(B,11)^At(B,25),it=W+st+Ee(B,T,V)+Qe[D]+Vt[D]|0,at=(At(y,2)^At(y,13)^At(y,22))+Se(y,l,A)|0;W=V,V=T,T=B,B=w+it|0,w=A,A=l,l=y,y=it+at|0}y=y+this.A|0,l=l+this.B|0,A=A+this.C|0,w=w+this.D|0,B=B+this.E|0,T=T+this.F|0,V=V+this.G|0,W=W+this.H|0,this.set(y,l,A,w,B,T,V,W)}roundClean(){Bt(Vt)}destroy(){this.set(0,0,0,0,0,0,0,0),Bt(this.buffer)}},X0=class extends G0{constructor(){super(32);k(this,"A",Dt[0]|0);k(this,"B",Dt[1]|0);k(this,"C",Dt[2]|0);k(this,"D",Dt[3]|0);k(this,"E",Dt[4]|0);k(this,"F",Dt[5]|0);k(this,"G",Dt[6]|0);k(this,"H",Dt[7]|0)}};var W0=i0(()=>new X0,Ae(1));var v0=class{constructor(s,a){k(this,"oHash");k(this,"iHash");k(this,"blockLen");k(this,"outputLen");k(this,"finished",!1);k(this,"destroyed",!1);if(ye(s),It(a,void 0,"key"),this.iHash=s.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let y=this.blockLen,l=new Uint8Array(y);l.set(a.length>y?s.create().update(a).digest():a);for(let A=0;A<l.length;A++)l[A]^=54;this.iHash.update(l),this.oHash=s.create();for(let A=0;A<l.length;A++)l[A]^=106;this.oHash.update(l),Bt(l)}update(s){return Ot(this),this.iHash.update(s),this}digestInto(s){Ot(this),It(s,this.outputLen,"output"),this.finished=!0,this.iHash.digestInto(s),this.oHash.update(s),this.oHash.digestInto(s),this.destroy()}digest(){let s=new Uint8Array(this.oHash.outputLen);return this.digestInto(s),s}_cloneInto(s){s||(s=Object.create(Object.getPrototypeOf(this),{}));let{oHash:a,iHash:y,finished:l,destroyed:A,blockLen:w,outputLen:B}=this;return s=s,s.finished=l,s.destroyed=A,s.blockLen=w,s.outputLen=B,s.oHash=a._cloneInto(s.oHash),s.iHash=y._cloneInto(s.iHash),s}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}},_0=(i,s,a)=>new v0(i,s).update(a).digest();_0.create=(i,s)=>new v0(i,s);function jt(i,s,a,y,l){return i=i+s+l|0,y=At(y^i,16),a=a+y|0,s=At(s^a,12),{a:i,b:s,c:a,d:y}}function Rt(i,s,a,y,l){return i=i+s+l|0,y=At(y^i,8),a=a+y|0,s=At(s^a,7),{a:i,b:s,c:a,d:y}}var A0=class{constructor(s,a){k(this,"buffer");k(this,"buffer32");k(this,"finished",!1);k(this,"destroyed",!1);k(this,"length",0);k(this,"pos",0);k(this,"blockLen");k(this,"outputLen");Xt(s),Xt(a),this.blockLen=s,this.outputLen=a,this.buffer=new Uint8Array(s),this.buffer32=t0(this.buffer)}update(s){Ot(this),It(s);let{blockLen:a,buffer:y,buffer32:l}=this,A=s.length,w=s.byteOffset,B=s.buffer;for(let T=0;T<A;){this.pos===a&&(St(l),this.compress(l,0,!1),St(l),this.pos=0);let V=Math.min(a-this.pos,A-T),W=w+T;if(V===a&&!(W%4)&&T+V<A){let D=new Uint32Array(B,W,Math.floor((A-T)/4));St(D);for(let st=0;T+a<A;st+=l.length,T+=a)this.length+=a,this.compress(D,st,!1);St(D);continue}y.set(s.subarray(T,T+V),this.pos),this.pos+=V,this.length+=V,T+=V}return this}digestInto(s){Ot(this),Qt(s,this);let{pos:a,buffer32:y}=this;this.finished=!0,Bt(this.buffer.subarray(a)),St(y),this.compress(y,0,!0),St(y);let l=t0(s);this.get().forEach((A,w)=>l[w]=_e(A))}digest(){let{buffer:s,outputLen:a}=this;this.digestInto(s);let y=s.slice(0,a);return this.destroy(),y}_cloneInto(s){let{buffer:a,length:y,finished:l,destroyed:A,outputLen:w,pos:B}=this;return s||(s=new this.constructor({dkLen:w})),s.set(...this.get()),s.buffer.set(a),s.destroyed=A,s.finished=l,s.length=y,s.pos=B,s.outputLen=w,s}clone(){return this._cloneInto()}};function q0(i,s,a,y,l,A,w,B,T,V,W,D,st,it,ot,at,yt,xt,dt,ct){let nt=0;for(let wt=0;wt<y;wt++)({a:l,b:T,c:st,d:yt}=jt(l,T,st,yt,a[s+i[nt++]])),{a:l,b:T,c:st,d:yt}=Rt(l,T,st,yt,a[s+i[nt++]]),{a:A,b:V,c:it,d:xt}=jt(A,V,it,xt,a[s+i[nt++]]),{a:A,b:V,c:it,d:xt}=Rt(A,V,it,xt,a[s+i[nt++]]),{a:w,b:W,c:ot,d:dt}=jt(w,W,ot,dt,a[s+i[nt++]]),{a:w,b:W,c:ot,d:dt}=Rt(w,W,ot,dt,a[s+i[nt++]]),{a:B,b:D,c:at,d:ct}=jt(B,D,at,ct,a[s+i[nt++]]),{a:B,b:D,c:at,d:ct}=Rt(B,D,at,ct,a[s+i[nt++]]),{a:l,b:V,c:ot,d:ct}=jt(l,V,ot,ct,a[s+i[nt++]]),{a:l,b:V,c:ot,d:ct}=Rt(l,V,ot,ct,a[s+i[nt++]]),{a:A,b:W,c:at,d:yt}=jt(A,W,at,yt,a[s+i[nt++]]),{a:A,b:W,c:at,d:yt}=Rt(A,W,at,yt,a[s+i[nt++]]),{a:w,b:D,c:st,d:xt}=jt(w,D,st,xt,a[s+i[nt++]]),{a:w,b:D,c:st,d:xt}=Rt(w,D,st,xt,a[s+i[nt++]]),{a:B,b:T,c:it,d:dt}=jt(B,T,it,dt,a[s+i[nt++]]),{a:B,b:T,c:it,d:dt}=Rt(B,T,it,dt,a[s+i[nt++]]);return{v0:l,v1:A,v2:w,v3:B,v4:T,v5:V,v6:W,v7:D,v8:st,v9:it,v10:ot,v11:at,v12:yt,v13:xt,v14:dt,v15:ct}}var Mt={CHUNK_START:1,CHUNK_END:2,PARENT:4,ROOT:8,KEYED_HASH:16,DERIVE_KEY_CONTEXT:32,DERIVE_KEY_MATERIAL:64},Yt=Dt.slice(),Ue=(()=>{let i=Array.from({length:16},(y,l)=>l),s=y=>[2,6,3,10,7,0,4,13,1,11,12,5,9,14,15,8].map(l=>y[l]),a=[];for(let y=0,l=i;y<7;y++,l=s(l))a.push(...l);return Uint8Array.from(a)})(),$0=class i extends A0{constructor(a={},y=0){super(64,a.dkLen===void 0?32:a.dkLen);k(this,"chunkPos",0);k(this,"chunksDone",0);k(this,"flags",0);k(this,"IV");k(this,"state");k(this,"stack",[]);k(this,"posOut",0);k(this,"bufferOut32",new Uint32Array(16));k(this,"bufferOut");k(this,"chunkOut",0);k(this,"enableXOF",!0);let{key:l,context:A}=a,w=A!==void 0;if(l!==void 0){if(w)throw new Error('Only "key" or "context" can be specified at same time');It(l,32,"key");let B=l.slice();this.IV=t0(B),St(this.IV),this.flags=y|Mt.KEYED_HASH}else if(w){It(A,void 0,"context");let B=A,T=new i({dkLen:32},Mt.DERIVE_KEY_CONTEXT).update(B).digest();this.IV=t0(T),St(this.IV),this.flags=y|Mt.DERIVE_KEY_MATERIAL}else this.IV=Yt.slice(),this.flags=y;this.state=this.IV.slice(),this.bufferOut=we(this.bufferOut32)}get(){return[]}set(){}b2Compress(a,y,l,A=0){let{state:w,pos:B}=this,{h:T,l:V}=z0(BigInt(a),!0),{v0:W,v1:D,v2:st,v3:it,v4:ot,v5:at,v6:yt,v7:xt,v8:dt,v9:ct,v10:nt,v11:wt,v12:mt,v13:Lt,v14:Nt,v15:Et}=q0(Ue,A,l,7,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],Yt[0],Yt[1],Yt[2],Yt[3],T,V,B,y);w[0]=W^dt,w[1]=D^ct,w[2]=st^nt,w[3]=it^wt,w[4]=ot^mt,w[5]=at^Lt,w[6]=yt^Nt,w[7]=xt^Et}compress(a,y=0,l=!1){let A=this.flags;if(this.chunkPos||(A|=Mt.CHUNK_START),(this.chunkPos===15||l)&&(A|=Mt.CHUNK_END),l||(this.pos=this.blockLen),this.b2Compress(this.chunksDone,A,a,y),this.chunkPos+=1,this.chunkPos===16||l){let w=this.state;this.state=this.IV.slice();for(let B,T=this.chunksDone+1;(l||!(T&1))&&(B=this.stack.pop());T>>=1)this.buffer32.set(B,0),this.buffer32.set(w,8),this.pos=this.blockLen,this.b2Compress(0,this.flags|Mt.PARENT,this.buffer32,0),w=this.state,this.state=this.IV.slice();this.chunksDone++,this.chunkPos=0,this.stack.push(w)}this.pos=0}_cloneInto(a){a=super._cloneInto(a);let{IV:y,flags:l,state:A,chunkPos:w,posOut:B,chunkOut:T,stack:V,chunksDone:W}=this;return a.state.set(A.slice()),a.stack=V.map(D=>Uint32Array.from(D)),a.IV.set(y),a.flags=l,a.chunkPos=w,a.chunksDone=W,a.posOut=B,a.chunkOut=T,a.enableXOF=this.enableXOF,a.bufferOut32.set(this.bufferOut32),a}destroy(){this.destroyed=!0,Bt(this.state,this.buffer32,this.IV,this.bufferOut32),Bt(...this.stack)}b2CompressOut(){let{state:a,pos:y,flags:l,buffer32:A,bufferOut32:w}=this,{h:B,l:T}=z0(BigInt(this.chunkOut++));St(A);let{v0:V,v1:W,v2:D,v3:st,v4:it,v5:ot,v6:at,v7:yt,v8:xt,v9:dt,v10:ct,v11:nt,v12:wt,v13:mt,v14:Lt,v15:Nt}=q0(Ue,0,A,7,a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],Yt[0],Yt[1],Yt[2],Yt[3],T,B,y,l);w[0]=V^xt,w[1]=W^dt,w[2]=D^ct,w[3]=st^nt,w[4]=it^wt,w[5]=ot^mt,w[6]=at^Lt,w[7]=yt^Nt,w[8]=a[0]^xt,w[9]=a[1]^dt,w[10]=a[2]^ct,w[11]=a[3]^nt,w[12]=a[4]^wt,w[13]=a[5]^mt,w[14]=a[6]^Lt,w[15]=a[7]^Nt,St(A),St(w),this.posOut=0}finish(){if(this.finished)return;this.finished=!0,Bt(this.buffer.subarray(this.pos));let a=this.flags|Mt.ROOT;this.stack.length?(a|=Mt.PARENT,St(this.buffer32),this.compress(this.buffer32,0,!0),St(this.buffer32),this.chunksDone=0,this.pos=this.blockLen):a|=(this.chunkPos?0:Mt.CHUNK_START)|Mt.CHUNK_END,this.flags=a,this.b2CompressOut()}writeInto(a){Ot(this,!1),It(a),this.finish();let{blockLen:y,bufferOut:l}=this;for(let A=0,w=a.length;A<w;){this.posOut>=y&&this.b2CompressOut();let B=Math.min(y-this.posOut,w-A);a.set(l.subarray(this.posOut,this.posOut+B),A),this.posOut+=B,A+=B}return a}xofInto(a){if(!this.enableXOF)throw new Error("XOF is not possible after digest call");return this.writeInto(a)}xof(a){return Xt(a),this.xofInto(new Uint8Array(a))}digestInto(a){if(Qt(a,this),this.finished)throw new Error("digest() was already called");return this.enableXOF=!1,this.writeInto(a),this.destroy(),a}digest(){return this.digestInto(new Uint8Array(this.outputLen))}},Be=i0((i={})=>new $0(i));var U0=$e(me(),1),Ft=null;async function a0(i=!1){if(Ft&&!i)return Ft;let s=typeof globalThis.crypto?.getRandomValues=="function";return Ft={available:s,webCrypto:s,kyber:!1,error:s?void 0:"Missing: WebCrypto"},Ft}function tf(i){Ft&&(Ft={...Ft,kyber:i})}function B0(){Ft=null}var ef=new TextEncoder;function He(i){return typeof i=="string"?ef.encode(i):i}function S0(i){let s="";for(let a=0;a<i.length;a++)s+=String.fromCharCode(i[a]);return btoa(s)}function ff(i){return Array.from(i).map(s=>s.toString(16).padStart(2,"0")).join("")}function rf(i){let s=i.startsWith("0x")?i.slice(2):i,a=s.length%2?"0"+s:s,y=new Uint8Array(a.length/2);for(let l=0;l<y.length;l++)y[l]=parseInt(a.slice(l*2,l*2+2),16);return y}function nf(){return globalThis.crypto.getRandomValues(new Uint8Array(32))}function Ie(){return globalThis.crypto.getRandomValues(new Uint8Array(24))}function sf(i){return Be(i)}function of(i,s){let a=s?.salt??new Uint8Array(32),y=s?.info??new Uint8Array(0),l=s?.length,A=_0(W0,a,i),w=new Uint8Array(0),B=[];for(let W=1;W<=Math.ceil(l/32);W++){let D=new Uint8Array(w.length+y.length+1);D.set(w,0),D.set(y,w.length),D[D.length-1]=W,w=new Uint8Array(_0(W0,A,D)),B.push(w)}let T=new Uint8Array(l),V=0;for(let W of B)if(T.set(W.subarray(0,l-V),V),V+=W.length,V>=l)break;return T}function Ce(i,s,a){return U0.default.secretbox(s,a,i)}var af="omnituum.hybrid.v1",xf="xsalsa20poly1305";function Te(i){return Array.from(i).map(s=>s.toString(16).padStart(2,"0")).join("")}function m0(i){let s=JSON.stringify(i),a=new TextEncoder,y=sf(a.encode(s));return Te(y)}var cf=60*1e3,hf=2,o0=[];function uf(i,s){if(i===!1||s)return!0;let a=i?.windowMs??cf,y=i?.max??hf,l=Date.now();for(;o0.length>0&&o0[0]<l-a;)o0.shift();return o0.length<y}function lf(){o0.push(Date.now())}var L0=null;async function df(){if(L0)return L0;try{return L0=await import("@omnituum/pqc-shared"),L0}catch{return null}}async function bf(i,s){let a=await df();if(!a)throw new Error("Hybrid encryption unavailable: pqc-shared module failed to load (WASM blocked by CSP?)");return a.hybridEncrypt(i,s)}var Q0="loggie.intake.pending",pf=300*1e3;function yf(i=Q0,s=pf){try{let a=sessionStorage.getItem(i);if(!a)return null;let y=JSON.parse(a);return Date.now()-y.ts>s?(Z0(i),null):y.id}catch{return null}}function wf(i,s=Q0){try{let a={id:i,ts:Date.now()};sessionStorage.setItem(s,JSON.stringify(a))}catch{}}function Z0(i=Q0){try{sessionStorage.removeItem(i)}catch{}}var gf="loggie.intake.v1",vf=32*1024,_f=56*1024;async function te(i,s,a={}){try{if(a.honeypot)return{ok:!0,id:"",status:"created"};let y=s.canonicalize(i),l=m0(y),A=s.storageKey??"loggie.intake.pending",w=s.pendingTtlMs??300*1e3,B=s.maxPlaintextBytes??vf,T=s.maxEnvelopeBytes??_f,V=s.version??gf,D=yf(A,w)===l;if(!uf(s.rateLimit,D))return{ok:!1,error:"Too many submissions. Please wait a moment before trying again."};let st=await a0();if(!st.available)return{ok:!1,error:`Your browser cannot securely submit this form. ${st.error}. Please use a modern browser (Chrome, Firefox, Safari, Edge).`};let it=s.requireKyber===!0,ot=s.attemptHybrid!==!1,at=JSON.stringify(y),xt=new TextEncoder().encode(at);if(xt.length>B)return{ok:!1,error:`Submission too large (${Math.round(xt.length/1024)}KB). Please shorten your responses.`};let dt,ct=!1;if(!ot)dt=await J0(xt,s.publicKeys.x25519PubHex);else try{dt=await bf(xt,{x25519PubHex:s.publicKeys.x25519PubHex,kyberPubB64:s.publicKeys.kyberPubB64}),ct=!0,tf(!0)}catch(Et){if(it)return{ok:!1,error:"Post-quantum encryption unavailable in this environment (WASM blocked by CSP or unsupported browser). Cannot submit in strict hybrid mode."};let Kt=Et instanceof Error?Et.message:String(Et),Wt=Af(Kt),e0={event:"omnituum.crypto.downgrade",reason:Wt,suite:Oe,pqcUsed:!1,requireKyber:!1,userAgent:typeof navigator<"u"?navigator.userAgent:void 0,cspHint:Wt==="wasm_blocked"?"WASM compilation likely blocked by Content-Security-Policy":void 0,...s.debugDowngrade?{rawError:Kt}:{}};console.warn("[Intake] Crypto downgrade:",e0),s.onDowngrade?.(e0),dt=await J0(xt,s.publicKeys.x25519PubHex)}let nt={v:V,id:l,pqcUsed:ct,encrypted:JSON.stringify(dt)},wt=JSON.stringify(nt);if(wt.length>T)return{ok:!1,error:"Encrypted submission too large. Please shorten your responses."};wf(l,A);let mt=await fetch(s.endpoint,{method:"POST",headers:{"Content-Type":"application/json"},body:wt}),Lt=mt.status;if(Lt===201||Lt===200){let Et=await mt.json();return Z0(A),Et.ok?(lf(),{ok:!0,id:Et.id,status:Et.status}):{ok:!1,error:Et.error||"Unknown error"}}return Lt>=400&&Lt<500?(Z0(A),{ok:!1,error:(await mt.json().catch(()=>({}))).error||`Request error: ${Lt}`}):{ok:!1,error:(await mt.json().catch(()=>({}))).error||`Server error: ${Lt}. Please try again.`}}catch(y){return console.error("Intake submission error:",y),{ok:!1,error:y instanceof Error?y.message:"Submission failed. Please try again."}}}function Af(i){let s=i.toLowerCase();return s.includes("csp")||s.includes("wasm")||s.includes("webassembly")?"wasm_blocked":s.includes("failed to load")||s.includes("module")||s.includes("import")?"module_load_failed":s.includes("unavailable")||s.includes("not available")?"kyber_unavailable":s.includes("encrypt")?"encrypt_failed":"unknown"}var Oe="x25519";function Ef(i,s,a){return of(i,{salt:He(s),info:He(a),length:32})}async function J0(i,s){let a=nf(),y=Ie(),l=Ce(a,i,y),A=U0.default.box.keyPair(),w=rf(s),B=U0.default.scalarMult(A.secretKey,w),T=Ef(B,"omnituum/x25519","wrap-ck"),V=Ie(),W=Ce(T,a,V);return{v:af,suite:Oe,aead:xf,x25519Epk:ff(A.publicKey),x25519Wrap:{nonce:S0(V),wrapped:S0(W)},kyberKemCt:"",kyberWrap:{nonce:"",wrapped:""},contentNonce:S0(y),ciphertext:S0(l),meta:{createdAt:new Date().toISOString()}}}function ee(i){return i.trim().replace(/\r\n?/g,`
`)}function fe(i){return i.trim().toLowerCase()}function re(i){return[...i].sort()}function De(i,s){return{kind:s,email:fe(i.email),company:i.company.trim(),system:ee(i.system),useCase:i.useCase,timeline:i.timeline,compliance:re(i.compliance)}}function Sf(i){return{submit(s,a="request_pilot_access",y){return te(s,{...i,canonicalize:l=>De(l,a)},{honeypot:y})},checkCryptoCapability:a0,resetCryptoCapabilityCache:B0,generateId(s,a="request_pilot_access"){return m0(De(s,a))}}}export{a0 as checkCryptoCapability,Sf as createPilotAccessClient,B0 as resetCryptoCapabilityCache};
/*! Bundled license information:

@noble/hashes/utils.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
